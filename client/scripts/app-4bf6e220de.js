!function(){"use strict";angular.module("wrlUi.security",["ngResource"])}(),function(){"use strict";function t(t,e){function n(){}function a(t){}function i(t){}function r(){}var l=(t(e.baseApiUrl,{},{register:{method:"POST",url:e.baseApiUrl+"api/account/register"},login:{method:"POST",url:e.baseApiUrl+"token",headers:{"Content-Type":"application/x-www-form-urlencoded"}}}),{isAuthenticated:!0,userName:"ToDo"});return{authentication:l,login:i,logOut:n,saveRegistration:a,fillAuthData:r}}t.$inject=["$resource","settings"],angular.module("wrlUi.security").factory("authService",t)}(),function(){"use strict";function t(t,e){function n(t){}function a(t){}var i={request:n,responseError:a};return i}t.$inject=["$q","$location"],angular.module("wrlUi.security").factory("authInterceptionService",t)}(),function(){"use strict";function t(t,e,n){function a(){var t=e(function(){e.cancel(t),n.go("login")},2e3)}var i=this;i.savedSuccessfully=!1,i.message="",i.registration={userName:"",password:"",confirmPassword:""},i.signUp=function(){t.signUp(i.registration).then(function(t){i.savedSuccessfully=!0,i.message="Пользователь успешно зарегистрирован, вы будете направлены на страницу логина через 2 секунды.",a()},function(t){var e=[];for(var n in t.data.modelState)for(var a=0; a<t.data.modelState[n].length; a++)e.push(t.data.modelState[n][a]);i.message="Пользователь не зарегистрирован из-за: "+e.join(" ")})}}t.$inject=["authService","$timeout","$state"],angular.module("wrlUi.security").controller("SignupController",t)}(),function(){"use strict";function t(t,e,n){var a=this;a.message="",a.loginData={userName:"",password:""},a.login=function(){t.login(a.loginData).then(function(t){n.go("apartments")},function(t){a.message=t.error_description})}}t.$inject=["authService","$timeout","$state"],angular.module("wrlUi.security").controller("LoginController",t)}(),function(){"use strict";angular.module("wrlUi.apartments",["ui.grid","ui.grid.resizeColumns","snap"]).config(["snapRemoteProvider",function(t){t.globalOptions={disable:"right"}}])}(),function(){"use strict";function t(t,e){function n(){return i.query().$promise}var a=e.baseApiUrl+"api/apartment",i=t(a,{},{});return{getApartments:n}}t.$inject=["$resource","settings"],angular.module("wrlUi.apartments").factory("apartmentsService",t)}(),function(){"use strict";function t(t,e,n){var a=this;a.lang=e.langLocale,a.gridOptions={columnDefs:[{name:"Номер",field:"number"},{name:"Название улицы",field:"streetName"},{name:"№ дома",field:"houseNumber"}]},t.getApartments().then(function(t){a.gridOptions.data=t}),a.editApartment=function(t){var e=n.open({animation:!0,templateUrl:"app/apartments/templates/apartmentDetails.html",controller:"apartmentDetailsController",resolve:{apartment:t}});e.result.then(function(){},function(){})}}t.$inject=["apartmentsService","settings","$uibModal"],angular.module("wrlUi.apartments").controller("ApartmentsController",t)}(),function(){var t=function(){var t=this;t.apartment={}};angular.module("wrlUi.apartments").controller(t)}(),function(){"use strict";angular.module("wrlUi",["ui.router","ui.bootstrap","wrlUi.security","wrlUi.apartments","toastr"])}(),function(){"use strict";function t(t){function e(e,n,a,i){var r,l=t(n[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});n.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){l.type(t).pause()["delete"]()}),r=e.$watch("vm.contributors",function(){angular.forEach(i.contributors,function(t){l.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){r()})}function n(t,e){function n(){return a().then(function(){t.info("Activated Contributors View")})}function a(){return e.getContributors(10).then(function(t){return i.contributors=t,i.contributors})}var i=this;i.contributors=[],n()}n.$inject=["$log","githubContributor"];var a={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:e,controller:n,controllerAs:"vm"};return a}t.$inject=["malarkey"],angular.module("wrlUi").directive("acmeMalarkey",t)}(),function(){"use strict";function t(){function t(t){var e=this;e.isAuthenticated=t.authentication.isAuthenticated,e.userName=t.authentication.email}t.$inject=["authService"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("wrlUi").directive("wrlNavbar",t)}(),function(){"use strict";function t(t, e){function n(n){function i(t){return t.data}function r(e){t.error("XHR Failed for getContributors.\n"+angular.toJson(e.data,!0))}return n||(n=30),e.get(a+"/contributors?per_page="+n).then(i)["catch"](r)}var a="https://api.github.com/repos/Swiip/generator-gulp-angular",i={apiHost:a,getContributors:n};return i}t.$inject=["$log","$http"],angular.module("wrlUi").factory("githubContributor",t)}(),function(){"use strict";function t(){}angular.module("wrlUi").controller("MainController",t)}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("wrlUi").run(t)}(),function(){"use strict";function t(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("login",{url:"/login",templateUrl:"app/security/templates/login.html",controller:"loginController",controllerAs:"vm"}).state("signup",{url:"/signup",templateUrl:"app/security/templates/signup.html",controller:"signupController",controllerAs:"vm"}).state("apartments",{url:"/apartments",templateUrl:"app/apartments/templates/apartmentsList.html",controller:"apartmentsController",controllerAs:"vm"}),e.otherwise("/")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("wrlUi").config(t)}(),function(){"use strict";angular.module("wrlUi").constant("malarkey",malarkey).constant("moment",moment).service("settings",function(){return{baseApiUrl:"http://localhost:4897/",langLocale:"ru"}})}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}t.$inject=["$logProvider","toastrConfig"],angular.module("wrlUi").config(t)}(),angular.module("wrlUi").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><div class="row"></div><div class="row jumbotron text-center"><h1>Web Realty Life</h1></div><div class="row"><div class="col-lg-6"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Вход</h3></div><div class="panel-body">Чтобы начать пользоваться системой необходимо войти в систему под своей учетной записью. Если у Вас еще нет учетной записи, воспользуйтесь инструкцией в блоке Регистрация. Для входа в систему нажмите в правом верхнем углу ссылку с названием "Вход", или нажмите кнопку "Вход" ниже в этом блоке.<div><button type="button" class="btn btn-primary full-container-width">Вход</button></div></div></div></div><div class="col-lg-6"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Регистрация</h3></div><div class="panel-body">Для того чтобы воспользоваться приватной частью системы небоходимо пройти регистрацию. Для этого Вам необходимо в правом верхнем углу нажать на ссылку с названием "Регистрация", или нажать на кнопку "Регистрация" ниже в этом блоке.<div><button type="button" class="btn btn-success full-container-width">Регистрация</button></div></div></div></div></div></div>'),t.put("app/components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a class="navbar-brand" ui-sref="home">Домашняя</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li ng-hide="!vm.isAuthenticated"><a><span ng-bind="\'Добро пожаловать \' + vm.email"></span></a></li><li ng-hide="!vm.isAuthenticated"><a ui-sref="apartments">Квартиры</a></li><li ng-hide="!vm.isAuthenticated"><a ng-click="vm.logOut()">Выйти</a></li><li ng-hide="vm.isAuthenticated"><a ui-sref="login">Войти</a></li><li ng-hide="vm.isAuthenticated"><a ui-sref="signup">Регистрация</a></li></ul></div></div></div>'),t.put("app/components/apartments/templates/apartmentDetails.html","<div><h1>Apartment Details Page</h1></div>"),t.put("app/components/apartments/templates/apartmentsList.html",'<div class="menu-trigger" snap-toggle="left"><i class="glyphicon glyphicon-menu-hamburger"></i></div><div snap-drawer=""><div class="panel"></div></div><div snap-content="" class="container-fluid" ui-i18n="{{vm.lang}}"><div data-snap-ignore="true" ui-grid="vm.gridOptions" class="myGrid" ui-grid-resize-columns=""></div></div>'),t.put("app/components/apartments/templates/aside.html",'<div class="modal-header"><h3 class="modal-title">Меню</h3></div><div class="modal-body"></div><div class="modal-footer"><button class="btn btn-primary" ng-click="vm.ok($event)">OK</button> <button class="btn btn-warning" ng-click="vm.cancel($event)">Отмена</button></div>'),t.put("app/components/security/templates/login.html",'<div class="container"><div class="row"><div class="col-lg-8 alert alert-dismissible alert-danger" ng-show="vm.message.length > 0"><button type="button" class="close" data-dismiss="alert">×</button> <strong>Вход не выполнен!</strong><p ng-bind="vm.message"></p></div><div class="col-lg-8"><div class="well"><form class="form-horizontal" role="form"><fieldset><legend>Введите свои данные для входа</legend><div class="form-group"><label for="inputName" class="col-lg-3 control-label">Логин</label><div class="col-lg-9"><input type="text" class="form-control" id="inputName" ng-model="vm.loginData.email" placeholder="Имя Пользователя"></div></div><div class="form-group"><label for="inputPassword" class="col-lg-3 control-label">Пароль</label><div class="col-lg-9"><input type="password" class="form-control" id="inputPassword" ng-model="vm.loginData.password" placeholder="Пароль"></div></div><div class="form-group"><div class="col-lg-9 col-lg-offset-3"><button type="submit" class="btn btn-primary" ng-click="vm.login()">Войти</button> <button type="reset" class="btn btn-warning">Отмена</button></div></div></fieldset></form></div></div></div></div>'),t.put("app/components/security/templates/signup.html",'<div class="container"><div class="row"><div class="col-lg-8 alert alert-dismissible alert-danger" ng-show="vm.message.length > 0"><button type="button" class="close" data-dismiss="alert">×</button> <strong>Регистрация не завершена!</strong><p ng-bind="vm.message"></p></div><div class="col-lg-8"><div class="well"><form class="form-horizontal" role="form"><fieldset><legend>Введите свои данные для регистрации</legend><div class="form-group"><label for="inputName" class="col-lg-3 control-label">Логин</label><div class="col-lg-9"><input type="text" class="form-control" id="inputName" ng-model="vm.registration.email" placeholder="Имя Пользователя"></div></div><div class="form-group"><label for="inputPassword" class="col-lg-3 control-label">Пароль</label><div class="col-lg-9"><input type="password" class="form-control" id="inputPassword" ng-model="vm.registration.password" placeholder="Пароль"></div></div><div class="form-group"><label for="inputRepeatPassword" class="col-lg-3 control-label">Повторите Пароль</label><div class="col-lg-9"><input type="password" class="form-control" id="inputRepeatPassword" ng-model="vm.registration.confirmPassword" placeholder="Введите Пароль еще раз"></div></div><div class="form-group"><div class="col-lg-9 col-lg-offset-3"><button type="submit" class="btn btn-primary" ng-click="vm.signUp()">Регистрация</button> <button type="reset" class="btn btn-warning">Отмена</button></div></div></fieldset></form></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-4bf6e220de.js.map
